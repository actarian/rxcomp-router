{
    "version": 3,
    "sources": [
        "web/client/src/main.browser.ts",
        "../../../../../src/core/view.ts",
        "../../../../../src/location/location.strategy.ts",
        "../../../../../src/route/route-activators.ts",
        "../../../../../src/route/route-segment.ts",
        "../../../../../src/route/route.ts",
        "../../../../../src/route/route-path.ts",
        "../../../../../src/route/route-snapshot.ts",
        "../../../../../src/router/router-events.ts",
        "../../../../../src/router/router.service.ts",
        "../../../../../src/router/router-link.directive.ts",
        "../../../../../src/router/router-link-active.directive.ts",
        "../../../../../src/router/router-outlet.structure.ts",
        "../../../../../src/router.module.ts",
        "../../../../../src/router.types.ts",
        "../../../../../src/transition/transition.ts",
        "../../../../client/src/app.component.ts",
        "../../../../client/src/custom-activator/custom-activator.ts",
        "../../../../client/src/pages/contacts.component.ts",
        "../../../../client/src/pages/data.component.ts",
        "../../../../client/src/pages/detail.component.ts",
        "../../../../client/src/pages/index.component.ts",
        "../../../../client/src/pages/not-found.component.ts",
        "../../../../client/src/pages/sub.component.ts",
        "../../../../client/src/app.module.ts",
        "../../../../client/src/main.browser.ts"
    ],
    "names": [
        "rxcomp",
        "rxjs",
        "operators",
        "_defineProperties",
        "target",
        "props",
        "i",
        "length",
        "descriptor",
        "enumerable",
        "configurable",
        "writable",
        "Object",
        "defineProperty",
        "key",
        "_createClass",
        "Constructor",
        "protoProps",
        "staticProps",
        "prototype",
        "_defineProperty",
        "obj",
        "value",
        "ownKeys",
        "object",
        "enumerableOnly",
        "keys",
        "getOwnPropertySymbols",
        "symbols",
        "filter",
        "sym",
        "getOwnPropertyDescriptor",
        "push",
        "apply",
        "_objectSpread2",
        "arguments",
        "source",
        "forEach",
        "getOwnPropertyDescriptors",
        "defineProperties",
        "_inheritsLoose",
        "subClass",
        "superClass",
        "create",
        "constructor",
        "__proto__",
        "_arrayLikeToArray",
        "arr",
        "len",
        "arr2",
        "Array",
        "_createForOfIteratorHelperLoose",
        "o",
        "allowArrayLike",
        "it",
        "Symbol",
        "iterator",
        "isArray",
        "minLen",
        "n",
        "toString",
        "call",
        "slice",
        "name",
        "from",
        "test",
        "_unsupportedIterableToArray",
        "done",
        "TypeError",
        "next",
        "bind",
        "View",
        "_Component",
        "this",
        "_proto",
        "onEnter",
        "node",
        "of",
        "onExit",
        "Component",
        "LocationStrategy",
        "serializeLink",
        "routerLink",
        "_this",
        "url",
        "map",
        "x",
        "encodeParams",
        "join",
        "serializeUrl",
        "serialize",
        "routePath",
        "prefix",
        "path",
        "search",
        "hash",
        "resolve",
        "segments",
        "params",
        "_step",
        "query",
        "_iterator",
        "matchAll",
        "match",
        "g1",
        "g2",
        "g3",
        "substring",
        "split",
        "resolveParams",
        "routeSegments",
        "_this2",
        "segment",
        "index",
        "decodeParams",
        "encoded",
        "Serializer",
        "encode",
        "encodeJson",
        "encodeBase64",
        "encodeParam",
        "decoded",
        "indexOf",
        "decode",
        "decodeParam",
        "decodeBase64",
        "decodeJson",
        "error",
        "Number",
        "encodeSegment",
        "encodeString",
        "replace",
        "decodeSegment",
        "decodeString",
        "encodeURIComponent",
        "decodeURIComponent",
        "getPath",
        "getUrl",
        "setHistory",
        "popped",
        "isPlatformBrowser",
        "history",
        "pushState",
        "title",
        "document",
        "replaceState",
        "undefined",
        "LocationStrategyPath",
        "_LocationStrategy",
        "_proto2",
        "_step2",
        "_iterator2",
        "LocationStrategyHash",
        "_LocationStrategy2",
        "_proto3",
        "_this3",
        "_step3",
        "_iterator3",
        "isPromise",
        "Promise",
        "makeObserver$_",
        "callback",
        "Observable",
        "observer",
        "subscription",
        "result",
        "isObservable",
        "subscribe",
        "complete",
        "then",
        "Error",
        "unsubscribe",
        "RouteSegment",
        "Route",
        "options",
        "pathMatch",
        "relative",
        "canDeactivate",
        "canLoad",
        "canActivate",
        "canActivateChild",
        "assign",
        "activator",
        "component",
        "currentRoute",
        "route",
        "childRoute",
        "children",
        "iRoute",
        "parent",
        "matcher",
        "RegExp",
        "matchers",
        "param",
        "regexp",
        "RoutePath",
        "snapshot",
        "locationStrategy",
        "get",
        "url_",
        "set",
        "routeSegments_",
        "RouteSnapshot",
        "data$",
        "ReplaySubject",
        "params$",
        "queryParams$",
        "data",
        "queryParams",
        "RouterEvent",
        "NavigationStart",
        "_RouterEvent",
        "RoutesRecognized",
        "_RouterEvent2",
        "GuardsCheckStart",
        "_RouterEvent3",
        "ChildActivationStart",
        "_RouterEvent4",
        "ActivationStart",
        "_RouterEvent5",
        "GuardsCheckEnd",
        "_RouterEvent6",
        "ResolveStart",
        "_RouterEvent7",
        "ResolveEnd",
        "_RouterEvent8",
        "ActivationEnd",
        "_RouterEvent9",
        "ChildActivationEnd",
        "_RouterEvent10",
        "RouteConfigLoadStart",
        "_RouterEvent11",
        "RouteConfigLoadEnd",
        "_RouterEvent12",
        "NavigationEnd",
        "_RouterEvent13",
        "NavigationCancel",
        "_RouterEvent14",
        "NavigationError",
        "_RouterEvent15",
        "RouterService",
        "setRoutes",
        "routes",
        "observe$",
        "makeObserve$_",
        "route$",
        "events$",
        "setRouterLink",
        "extras",
        "trigger",
        "navigate",
        "findRoute",
        "initialUrl",
        "findRouteByUrl",
        "getFlatRoutes_",
        "resolvedRoute",
        "lastMatcbesLength",
        "NEGATIVE_INFINITY",
        "matches",
        "urlAfterRedirects",
        "redirectTo",
        "lastPath",
        "r",
        "unshift",
        "extractedUrl",
        "useLocationStrategy",
        "locationStrategyType",
        "locationStrategy_",
        "reduceRoutes",
        "reduce",
        "p",
        "c",
        "resolveRoutes_",
        "childRoutes",
        "resolveRoute_",
        "remainUrl",
        "_route$children",
        "makeActivatorResponse$_",
        "event",
        "activators",
        "combineLatest",
        "pipe",
        "values",
        "cancelEvent",
        "reason",
        "stateEvents$",
        "isPlatformServer",
        "EMPTY",
        "merge",
        "fromEvent",
        "WINDOW",
        "location",
        "pathname",
        "shareReplay",
        "switchMap",
        "instance",
        "getContextByNode",
        "element",
        "makeCanDeactivateResponse$_",
        "nextEvent",
        "makeCanLoadResponse$_",
        "routeActivators",
        "reduceChildRouteActivators_",
        "makeCanActivateChildResponse$_",
        "makeCanActivateResponse$_",
        "tap",
        "_currentRoute$childre",
        "_source$extractedUrl",
        "_source$remainUrl",
        "console",
        "log",
        "currentSnapshot",
        "snapshots",
        "getFlatSnapshots_",
        "clearRoutes_",
        "catchError",
        "RouterLinkDirective",
        "_Directive",
        "getSegments",
        "item",
        "components",
        "onInit",
        "getContext",
        "takeUntil",
        "unsubscribe$",
        "navigationExtras",
        "skipLocationChange",
        "replaceUrl",
        "state",
        "preventDefault",
        "onChanges",
        "routerLink_",
        "setAttribute",
        "Directive",
        "selector",
        "inputs",
        "RouterLinkActiveDirective",
        "classList",
        "remove",
        "isActive",
        "routerLinkActive",
        "add",
        "_path$route",
        "host",
        "hosts",
        "RouterOutletStructure",
        "_Structure",
        "route$_",
        "_this$host$route",
        "factory$",
        "_this$host$route2",
        "route_",
        "snapshot_",
        "_this4",
        "_getContext",
        "module",
        "factory",
        "factory_",
        "onExit$_",
        "parentNode",
        "removeChild",
        "meta",
        "template",
        "createElement",
        "innerHTML",
        "firstElementChild",
        "appendChild",
        "makeInstance",
        "compile",
        "onEnter$_",
        "asObservable",
        "Structure",
        "args",
        "RouteLocationStrategy",
        "factories",
        "pipes",
        "RouterModule",
        "_Module",
        "_this$instances",
        "instances",
        "pushChanges",
        "forRoot",
        "useStrategy",
        "Module",
        "transition$",
        "declarations",
        "concat",
        "exports",
        "AppComponent",
        "errors$",
        "customActivator",
        "CustomActivator",
        "ContactsComponent",
        "DataComponent",
        "datas",
        "DetailComponent",
        "_View",
        "detailId",
        "gsap",
        "opacity",
        "to",
        "duration",
        "ease",
        "Power3",
        "easeInOut",
        "onComplete",
        "IndexComponent",
        "NotFoundComponent",
        "SubComponent",
        "AppModule",
        "imports",
        "CoreModule",
        "bootstrap",
        "Browser"
    ],
    "mappings": "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",
    "file": "web/dist/development/browser/js/main.min.js",
    "sourcesContent": [
        null,
        "\nimport { Component, IElement } from 'rxcomp';\nimport { Observable, of } from 'rxjs';\nimport { RouteSnapshot } from '../route/route-snapshot';\n\nexport default class View extends Component {\n\troute!: RouteSnapshot;\n\tonEnter(node: IElement): Observable<boolean> | Promise<boolean> | (() => boolean) | boolean { return of(true); }\n\tonExit(node: IElement): Observable<boolean> | Promise<boolean> | (() => boolean) | boolean { return of(true); }\n}\n",
        "import { decodeBase64, decodeJson, encodeBase64, encodeJson, isPlatformBrowser, Serializer } from 'rxcomp';\nimport { IRoutePath } from '../route/route-path';\nimport { RouterKeyValue, RouterLink } from '../router.types';\nimport { RouteSegment } from '../rxcomp-router';\n\nexport interface ILocationStrategy {\n\tserializeLink(routerLink: RouterLink): string;\n\tserializeUrl(url: string): string;\n\tserialize(routePath: IRoutePath): string;\n\tresolve(url: string, target: IRoutePath): IRoutePath;\n\tresolveParams(path: string, routeSegments: RouteSegment[]): { [key: string]: any };\n\tencodeParams(value: any): string;\n\tdecodeParams(encoded: string): any;\n\tencodeSegment(s: string): string;\n\tdecodeSegment(s: string): string;\n\tencodeString(s: string): string;\n\tdecodeString(s: string): string;\n\tgetPath(url: string): string;\n\tgetUrl(url: string, params?: URLSearchParams): string;\n\tsetHistory(url: string, params?: URLSearchParams, popped?: boolean): void;\n}\nexport class LocationStrategy implements ILocationStrategy {\n\tserializeLink(routerLink: RouterLink): string {\n\t\tconst url: string = (Array.isArray(routerLink) ? routerLink : [routerLink]).map(x => {\n\t\t\treturn typeof x === 'string' ? x : this.encodeParams(x);\n\t\t}).join('/');\n\t\treturn this.serializeUrl(url);\n\t}\n\tserializeUrl(url: string): string {\n\t\treturn url;\n\t}\n\tserialize(routePath: IRoutePath): string {\n\t\treturn `${routePath.prefix}${routePath.path}${routePath.search}${routePath.hash}`;\n\t}\n\tresolve(url: string, target: IRoutePath = {}): IRoutePath {\n\t\tlet prefix: string = '';\n\t\tlet path: string = '';\n\t\tlet query: string = '';\n\t\tlet search: string = '';\n\t\tlet hash: string = '';\n\t\tlet segments: string[];\n\t\tlet params: { [key: string]: any };\n\t\tconst regExp: RegExp = /^([^\\?|\\#]*)?(\\?[^\\#]*)?(\\#[^\\#]*?)?$/gm;\n\t\tconst matches = url.matchAll(regExp);\n\t\tfor (let match of matches) {\n\t\t\tconst g1 = match[1];\n\t\t\tconst g2 = match[2];\n\t\t\tconst g3 = match[3];\n\t\t\tif (g1) {\n\t\t\t\tpath = g1;\n\t\t\t}\n\t\t\tif (g2) {\n\t\t\t\tquery = g2;\n\t\t\t}\n\t\t\tif (g3) {\n\t\t\t\thash = g3;\n\t\t\t}\n\t\t}\n\t\tprefix = prefix;\n\t\tpath = path;\n\t\tquery = query;\n\t\thash = hash.substring(1, hash.length);\n\t\tsearch = query.substring(1, query.length);\n\t\tsegments = path.split('/').filter(x => x !== '');\n\t\tparams = {};\n\t\ttarget.prefix = prefix;\n\t\ttarget.path = path;\n\t\ttarget.query = query;\n\t\ttarget.hash = hash;\n\t\ttarget.search = search;\n\t\ttarget.segments = segments;\n\t\ttarget.params = params;\n\t\t// console.log('resolvePath_', url, prefix, path, query, search, hash, segments, params);\n\t\treturn target;\n\t}\n\tresolveParams(path: string, routeSegments: RouteSegment[]): { [key: string]: any } {\n\t\tconst segments: string[] = path.split('/').filter(x => x !== '');\n\t\tconst params: RouterKeyValue = {};\n\t\trouteSegments.forEach((segment: RouteSegment, index: number) => {\n\t\t\t// console.log('segment.params', segment.params);\n\t\t\tconst keys: string[] = Object.keys(segment.params);\n\t\t\tif (keys.length) {\n\t\t\t\tparams[keys[0]] = this.decodeParams(segments[index]);\n\t\t\t}\n\t\t});\n\t\treturn params;\n\t}\n\tencodeParams(value: any): string {\n\t\tlet encoded!: string;\n\t\tif (typeof value === 'object') {\n\t\t\tencoded = Serializer.encode<string>(value, [encodeJson, encodeBase64, encodeParam]);\n\t\t} else if (typeof value === 'number') {\n\t\t\tencoded = value.toString();\n\t\t}\n\t\treturn encoded;\n\t}\n\tdecodeParams(value: string): any {\n\t\tlet decoded: any = value;\n\t\tif (value.indexOf(';') === 0) {\n\t\t\ttry {\n\t\t\t\tdecoded = Serializer.decode<string>(value, [decodeParam, decodeBase64, decodeJson])\n\t\t\t} catch (error) {\n\t\t\t\tdecoded = value;\n\t\t\t}\n\t\t} else if (Number(value).toString() === value) {\n\t\t\tdecoded = Number(value);\n\t\t}\n\t\treturn decoded;\n\t}\n\tencodeSegment(value: string): string {\n\t\treturn this.encodeString(value).replace(/\\(/g, '%28').replace(/\\)/g, '%29').replace(/%26/gi, '&');\n\t}\n\tdecodeSegment(value: string): string {\n\t\treturn this.decodeString(value.replace(/%28/g, '(').replace(/%29/g, ')').replace(/\\&/gi, '%26'));\n\t}\n\tencodeString(value: string): string {\n\t\treturn encodeURIComponent(value).replace(/%40/g, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',');\n\t}\n\tdecodeString(value: string): string {\n\t\treturn decodeURIComponent(value.replace(/\\@/g, '%40').replace(/\\:/gi, '%3A').replace(/\\$/g, '%24').replace(/\\,/gi, '%2C'));\n\t}\n\tgetPath(url: string): string {\n\t\treturn url;\n\t}\n\tgetUrl(url: string, params?: URLSearchParams): string {\n\t\treturn `${url}${params ? '?' + params.toString() : ''}`;\n\t}\n\tsetHistory(url: string, params?: URLSearchParams, popped?: boolean): void {\n\t\tif (isPlatformBrowser && typeof history !== 'undefined' && history.pushState) {\n\t\t\tconst title = document.title;\n\t\t\turl = this.getUrl(url, params);\n\t\t\t// !!!\n\t\t\t// const state = params ? params.toString() : '';\n\t\t\t// console.log(state);\n\t\t\tif (popped) {\n\t\t\t\thistory.replaceState(undefined, title, url);\n\t\t\t} else {\n\t\t\t\thistory.pushState(undefined, title, url);\n\t\t\t}\n\t\t}\n\t}\n}\nexport function encodeParam(value: string): string {\n\treturn `;${value}`;\n}\nexport function decodeParam(value: string): string {\n\treturn value.substring(1, value.length);\n}\nexport class LocationStrategyPath extends LocationStrategy implements ILocationStrategy {\n\tserialize(routePath: IRoutePath): string {\n\t\treturn `${routePath.prefix}${routePath.path}${routePath.search}${routePath.hash}`;\n\t}\n\tresolve(url: string, target: IRoutePath = {}): IRoutePath {\n\t\tlet prefix: string = '';\n\t\tlet path: string = '';\n\t\tlet query: string = '';\n\t\tlet search: string = '';\n\t\tlet hash: string = '';\n\t\tlet segments: string[];\n\t\tlet params: { [key: string]: any };\n\t\tconst regExp: RegExp = /^([^\\?|\\#]*)?(\\?[^\\#]*)?(\\#[^\\#]*?)?$/gm;\n\t\tconst matches = url.matchAll(regExp);\n\t\tfor (let match of matches) {\n\t\t\tconst g1 = match[1];\n\t\t\tconst g2 = match[2];\n\t\t\tconst g3 = match[3];\n\t\t\tif (g1) {\n\t\t\t\tpath = g1;\n\t\t\t}\n\t\t\tif (g2) {\n\t\t\t\tquery = g2;\n\t\t\t}\n\t\t\tif (g3) {\n\t\t\t\thash = g3;\n\t\t\t}\n\t\t}\n\t\tprefix = prefix;\n\t\tpath = path;\n\t\tquery = query;\n\t\thash = hash.substring(1, hash.length);\n\t\tsearch = query.substring(1, query.length);\n\t\tsegments = path.split('/').filter(x => x !== '');\n\t\tparams = {};\n\t\ttarget.prefix = prefix;\n\t\ttarget.path = path;\n\t\ttarget.query = query;\n\t\ttarget.hash = hash;\n\t\ttarget.search = search;\n\t\ttarget.segments = segments;\n\t\ttarget.params = params;\n\t\t// console.log('resolvePath_', url, prefix, path, query, search, hash, segments, params);\n\t\treturn target;\n\t}\n}\nexport class LocationStrategyHash extends LocationStrategy implements ILocationStrategy {\n\tserializeLink(routerLink: RouterLink): string {\n\t\tconst url: string = (Array.isArray(routerLink) ? routerLink : [routerLink]).map(x => {\n\t\t\treturn typeof x === 'string' ? x : this.encodeParams(x);\n\t\t}).join('/');\n\t\treturn this.serializeUrl(url);\n\t}\n\tserializeUrl(url: string): string {\n\t\tconst path: IRoutePath = this.resolve(url, {});\n\t\treturn this.serialize(path);\n\t}\n\tserialize(routePath: IRoutePath): string {\n\t\treturn `${routePath.prefix}${routePath.search}${routePath.hash}${routePath.path}`;\n\t}\n\tresolve(url: string, target: IRoutePath = {}): IRoutePath {\n\t\tlet prefix: string = '';\n\t\tlet path: string = '';\n\t\tlet query: string = '';\n\t\tlet search: string = '';\n\t\tlet hash: string = '#';\n\t\tlet segments: string[];\n\t\tlet params: { [key: string]: any };\n\t\tconst regExp: RegExp = /^([^\\?|\\#]*)?(\\?[^\\#]*)?(\\#.*)$/gm;\n\t\tconst matches = url.matchAll(regExp);\n\t\tfor (let match of matches) {\n\t\t\tconst g1 = match[1];\n\t\t\tconst g2 = match[2];\n\t\t\tconst g3 = match[3];\n\t\t\tif (g1) {\n\t\t\t\tprefix = g1;\n\t\t\t}\n\t\t\tif (g2) {\n\t\t\t\tquery = g2;\n\t\t\t}\n\t\t\tif (g3) {\n\t\t\t\tpath = g3;\n\t\t\t}\n\t\t}\n\t\tprefix = prefix;\n\t\tpath = path.substring(1, path.length);\n\t\thash = hash;\n\t\tsearch = query.substring(1, query.length);\n\t\tsegments = path.split('/').filter(x => x !== '');\n\t\tparams = {};\n\t\ttarget.prefix = prefix;\n\t\ttarget.path = path;\n\t\ttarget.query = query;\n\t\ttarget.hash = hash;\n\t\ttarget.search = search;\n\t\ttarget.segments = segments;\n\t\ttarget.params = params;\n\t\t// console.log('resolvePath_', url, prefix, path, query, search, hash, segments, params);\n\t\treturn target;\n\t}\n\tgetPath(url: string): string {\n\t\tif (url.indexOf(`/#`) === -1) {\n\t\t\treturn `/#${url}`;\n\t\t} else {\n\t\t\treturn url;\n\t\t}\n\t}\n\tgetUrl(url: string, params?: URLSearchParams): string {\n\t\treturn `${params ? '?' + params.toString() : ''}${this.getPath(url)}`;\n\t}\n}\n",
        "import { isObservable, Observable, Observer, Subscription } from 'rxjs';\nimport { RouteComponent, RouterActivatorResult } from '../router.types';\nimport { RouteSegment } from './route-segment';\nimport { RouteSnapshot } from './route-snapshot';\n\nexport interface ICanDeactivate<T> {\n\tcanDeactivate(component: T, currentRoute: RouteSnapshot): RouterActivatorResult\n}\n\nexport interface ICanLoad {\n\tcanLoad(route: RouteSnapshot, segments: RouteSegment[]): RouterActivatorResult\n}\n\nexport interface ICanActivate {\n\tcanActivate(route: RouteSnapshot): RouterActivatorResult\n}\n\nexport interface ICanActivateChild {\n\tcanActivateChild(childRoute: RouteSnapshot): RouterActivatorResult\n}\n\nexport function mapCanDeactivate$_<T>(activator: ICanDeactivate<T>): (component: T, currentRoute: RouteSnapshot) => Observable<boolean | RouteComponent[]> {\n\treturn function canDeactivate$(component: T, currentRoute: RouteSnapshot): Observable<boolean | RouteComponent[]> {\n\t\treturn makeObserver$_(() => activator.canDeactivate(component, currentRoute));\n\t};\n}\nexport function mapCanLoad$_(activator: ICanLoad): (route: RouteSnapshot, segments: RouteSegment[]) => Observable<boolean | RouteComponent[]> {\n\treturn function canLoad$$(route: RouteSnapshot, segments: RouteSegment[]): Observable<boolean | RouteComponent[]> {\n\t\treturn makeObserver$_(() => activator.canLoad(route, segments));\n\t};\n}\nexport function mapCanActivate$_(activator: ICanActivate): (route: RouteSnapshot) => Observable<boolean | RouteComponent[]> {\n\treturn function canActivate$(route: RouteSnapshot): Observable<boolean | RouteComponent[]> {\n\t\treturn makeObserver$_(() => activator.canActivate(route));\n\t};\n}\nexport function mapCanActivateChild$_(activator: ICanActivateChild): (childRoute: RouteSnapshot) => Observable<boolean | RouteComponent[]> {\n\treturn function canActivateChild$(childRoute: RouteSnapshot): Observable<boolean | RouteComponent[]> {\n\t\treturn makeObserver$_(() => activator.canActivateChild(childRoute));\n\t};\n}\nexport function isPromise<T>(object: any): object is Promise<T> {\n\treturn object instanceof Promise || (typeof object === 'object' && 'then' in object && typeof object['then'] === 'function');\n}\n\nfunction makeObserver$_(callback: () => RouterActivatorResult) {\n\treturn Observable.create(function (observer: Observer<boolean | RouteComponent[]>) {\n\t\tlet subscription: Subscription;\n\t\ttry {\n\t\t\tlet result: RouterActivatorResult = callback();\n\t\t\tif (isObservable(result)) {\n\t\t\t\tsubscription = result.subscribe(result => {\n\t\t\t\t\tobserver.next(result);\n\t\t\t\t\tobserver.complete();\n\t\t\t\t});\n\t\t\t} else if (isPromise<boolean | RouteComponent[]>(result)) {\n\t\t\t\t(result as Promise<boolean | RouteComponent[]>).then(result => {\n\t\t\t\t\tobserver.next(result);\n\t\t\t\t\tobserver.complete();\n\t\t\t\t});\n\t\t\t} else if (typeof result === 'boolean' || Array.isArray(result)) {\n\t\t\t\tobserver.next(result);\n\t\t\t\tobserver.complete();\n\t\t\t} else {\n\t\t\t\tobserver.error(new Error('invalid value'));\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tobserver.error(error);\n\t\t}\n\t\treturn () => {\n\t\t\tif (subscription) {\n\t\t\t\tsubscription.unsubscribe();\n\t\t\t}\n\t\t}\n\t});\n}\n\n",
        "import { RouterKeyValue } from '../router.types';\n\nexport class RouteSegment {\n\tpath: string;\n\tparams: any;\n\tconstructor(path: string, params: RouterKeyValue = {}) {\n\t\tthis.path = path;\n\t\tthis.params = params;\n\t}\n}\n",
        "import { Component, Factory } from 'rxcomp';\nimport { Observable } from 'rxjs';\nimport { Data, RouteComponent, RouterKeyValue } from '../router.types';\nimport { ICanActivate, ICanActivateChild, ICanDeactivate, ICanLoad, mapCanActivate$_, mapCanActivateChild$_, mapCanDeactivate$_, mapCanLoad$_ } from './route-activators';\nimport { RouteSegment } from './route-segment';\nimport { RouteSnapshot } from './route-snapshot';\n\nexport type IRoutes = IRoute[];\nexport type Routes = Route[];\n\nexport interface INavigationExtras {\n\trelativeTo?: RouteSnapshot | null;\n\tqueryParams?: RouterKeyValue; // Params | null;\n\tfragment?: string;\n\tpreserveQueryParams?: boolean;\n\tqueryParamsHandling?: any; // QueryParamsHandling | null;\n\tpreserveFragment?: boolean;\n\tskipLocationChange?: boolean;\n\treplaceUrl?: boolean;\n\tstate?: { [key: string]: any };\n}\n\nexport interface IBaseRoute {\n\tpath?: string;\n\tpathMatch?: 'prefix' | 'full';\n\tcomponent?: typeof Component;\n\t// matcher?: UrlMatcher;\n\tmatcher?: RegExp;\n\tredirectTo?: string;\n\toutlet?: string;\n\tchildren?: IRoutes | Routes;\n\t// children?: IRoute[];\n\tinitialUrl?: string;\n\turlAfterRedirects?: string;\n\textractedUrl?: string;\n\tremainUrl?: string;\n\t// resolve?: ResolveData;\n\t// loadChildren?: LoadChildren;\n\t// runGuardsAndResolvers?: RunGuardsAndResolvers;\n\tdata?: Data;\n\tparams?: RouterKeyValue;\n\tqueryParams?: RouterKeyValue;\n}\n\nexport interface IRoute extends IBaseRoute {\n\tcanActivate?: ICanActivate[];\n\tcanActivateChild?: ICanActivateChild[];\n\tcanDeactivate?: ICanDeactivate<Component>[];\n\tcanLoad?: ICanLoad[];\n}\n\nexport class Route implements IBaseRoute {\n\tpath!: string;\n\tpathMatch: 'prefix' | 'full' = 'prefix';\n\tcomponent!: typeof Component; // import !!!\n\tmatcher: RegExp;\n\tredirectTo?: string;\n\tsegments: RouteSegment[];\n\trelative: boolean = true;\n\tchildren?: Routes;\n\tparent?: Route;\n\tsnapshot?: RouteSnapshot;\n\tcanDeactivate: ((component: Factory, currentRoute: RouteSnapshot) => Observable<boolean | RouteComponent[]>)[] = [];\n\tcanLoad: ((route: RouteSnapshot, segments: RouteSegment[]) => Observable<boolean | RouteComponent[]>)[] = [];\n\tcanActivate: ((route: RouteSnapshot) => Observable<boolean | RouteComponent[]>)[] = [];\n\tcanActivateChild: ((childRoute: RouteSnapshot) => Observable<boolean | RouteComponent[]>)[] = [];\n\tconstructor(options?: IRoute) {\n\t\tif (options) {\n\t\t\tObject.assign(this, options);\n\t\t\tthis.canDeactivate = options.canDeactivate ? options.canDeactivate.map(x => mapCanDeactivate$_<Component>(x)) : [];\n\t\t\tthis.canLoad = options.canLoad ? options.canLoad.map(x => mapCanLoad$_(x)) : [];\n\t\t\tthis.canActivate = options.canActivate ? options.canActivate.map(x => mapCanActivate$_(x)) : [];\n\t\t\tthis.canActivateChild = options.canActivateChild ? options.canActivateChild.map(x => mapCanActivateChild$_(x)) : [];\n\t\t}\n\t\tif (this.children) {\n\t\t\tthis.children = this.children.map((iRoute: IBaseRoute) => {\n\t\t\t\tconst route = new Route(iRoute);\n\t\t\t\troute.parent = this;\n\t\t\t\treturn route;\n\t\t\t});\n\t\t}\n\t\tconst segments: RouteSegment[] = [];\n\t\tif (this.path === '**') {\n\t\t\tsegments.push(new RouteSegment(this.path));\n\t\t\tthis.matcher = new RegExp('^.*$');\n\t\t} else {\n\t\t\tconst matchers: string[] = [`^(\\.\\.\\/|\\.\\/|\\/\\/|\\/)?`];\n\t\t\tconst regExp: RegExp = /(^\\.\\.\\/|\\.\\/|\\/\\/|\\/)|([^:|\\/]+)\\/?|\\:([^\\/]+)\\/?/g;\n\t\t\tconst matches = this.path.matchAll(regExp);\n\t\t\tfor (let match of matches) {\n\t\t\t\tconst g1 = match[1];\n\t\t\t\tconst g2 = match[2];\n\t\t\t\tconst g3 = match[3];\n\t\t\t\tif (g1) {\n\t\t\t\t\tthis.relative = !(g1 === '//' || g1 === '/');\n\t\t\t\t} else if (g2) {\n\t\t\t\t\tmatchers.push(g2);\n\t\t\t\t\tsegments.push(new RouteSegment(g2));\n\t\t\t\t} else if (g3) {\n\t\t\t\t\tmatchers.push('(\\/[^\\/]+)');\n\t\t\t\t\tconst param: { [key: string]: any } = {};\n\t\t\t\t\tparam[g3] = null;\n\t\t\t\t\tsegments.push(new RouteSegment('', param));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.pathMatch === 'full') {\n\t\t\t\tmatchers.push('$');\n\t\t\t}\n\t\t\tconst regexp: string = matchers.join('');\n\t\t\tthis.matcher = new RegExp(regexp);\n\t\t}\n\t\tthis.segments = segments;\n\t}\n}\n",
        "import { ILocationStrategy, LocationStrategy } from '../location/location.strategy';\nimport { Route } from './route';\nimport { RouteSegment } from './route-segment';\n\nexport interface IRoutePath {\n\turl?: string;\n\tprefix?: string;\n\tpath?: string;\n\tquery?: string;\n\tsearch?: any;\n\thash?: any;\n\tparams?: { [key: string]: any };\n\tsegments?: string[];\n}\n\nexport class RoutePath implements IRoutePath {\n\tprivate url_!: string;\n\tget url(): string {\n\t\treturn this.url_;\n\t}\n\tset url(url: string) {\n\t\tif (this.url_ !== url) {\n\t\t\tthis.locationStrategy.resolve(url, this);\n\t\t\tthis.url_ = this.locationStrategy.serialize(this);\n\t\t}\n\t}\n\tprivate routeSegments_!: RouteSegment[];\n\tget routeSegments(): RouteSegment[] {\n\t\treturn this.routeSegments_;\n\t}\n\tset routeSegments(routeSegments: RouteSegment[]) {\n\t\tif (this.routeSegments_ !== routeSegments) {\n\t\t\tthis.routeSegments_ = routeSegments;\n\t\t\tthis.params = this.locationStrategy.resolveParams(this.path, routeSegments);\n\t\t}\n\t}\n\tget remainUrl(): string {\n\t\treturn this.query + this.hash;\n\t}\n\tprefix: string = '';\n\tpath: string = '';\n\tquery: string = '';\n\tsearch: string = '';\n\thash: string = '';\n\tparams!: { [key: string]: any };\n\tsegments!: string[];\n\troute?: Route;\n\tlocationStrategy: ILocationStrategy;\n\tconstructor(url: string = '', routeSegments: RouteSegment[] = [], snapshot?: Route, locationStrategy?: ILocationStrategy) {\n\t\tthis.locationStrategy = locationStrategy || new LocationStrategy();\n\t\tthis.url = url;\n\t\tthis.routeSegments = routeSegments;\n\t\tthis.route = snapshot;\n\t}\n}\n",
        "import { Component, Factory, IElement } from 'rxcomp';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { RouteComponent, RouterKeyValue } from '../router.types';\nimport { IBaseRoute, Route } from './route';\nimport { RouteSegment } from './route-segment';\n\nexport class RouteSnapshot implements IBaseRoute {\n\tpath!: string;\n\tpathMatch: 'prefix' | 'full' = 'prefix';\n\tcomponent!: typeof Component; // import !!!\n\tredirectTo?: string;\n\tsegments!: RouteSegment[];\n\trelative: boolean = true;\n\tchildren?: Route[];\n\tchildRoute?: RouteSnapshot;\n\tparent?: RouteSnapshot | undefined;\n\tinitialUrl?: string;\n\turlAfterRedirects?: string;\n\textractedUrl?: string;\n\tremainUrl?: string;\n\tdata!: RouterKeyValue;\n\tparams!: RouterKeyValue;\n\tqueryParams!: RouterKeyValue;\n\tdata$: ReplaySubject<RouterKeyValue> = new ReplaySubject<RouterKeyValue>(1);\n\tparams$: ReplaySubject<RouterKeyValue> = new ReplaySubject<RouterKeyValue>(1);\n\tqueryParams$: ReplaySubject<RouterKeyValue> = new ReplaySubject<RouterKeyValue>(1);\n\tcanDeactivate: ((component: Factory, currentRoute: RouteSnapshot) => Observable<boolean | RouteComponent[]>)[] = [];\n\tcanLoad: ((route: RouteSnapshot, segments: RouteSegment[]) => Observable<boolean | RouteComponent[]>)[] = [];\n\tcanActivate: ((route: RouteSnapshot) => Observable<boolean | RouteComponent[]>)[] = [];\n\tcanActivateChild: ((childRoute: RouteSnapshot) => Observable<boolean | RouteComponent[]>)[] = [];\n\telement?: IElement;\n\tconstructor(options?: IBaseRoute) {\n\t\tif (options) {\n\t\t\tObject.assign(this, options);\n\t\t}\n\t\tthis.data$.next(this.data);\n\t\tthis.params$.next(this.params);\n\t\tthis.queryParams$.next(this.queryParams);\n\t}\n\tnext(snapshot: RouteSnapshot): void {\n\t\tthis.childRoute = snapshot.childRoute;\n\t\tif (snapshot.childRoute) {\n\t\t\tsnapshot.childRoute.parent = this;\n\t\t}\n\t\tconst data = this.data = Object.assign({}, snapshot.data);\n\t\tthis.data$.next(data);\n\t\tconst params = this.params = Object.assign({}, snapshot.params);\n\t\tthis.params$.next(params);\n\t\tconst queryParams = this.queryParams = Object.assign({}, snapshot.queryParams);\n\t\tthis.queryParams$.next(queryParams);\n\t}\n}\n",
        "import { Route } from '../route/route';\nimport { RouteSnapshot } from '../route/route-snapshot';\nimport { RouteComponent, RouterLink } from '../router.types';\n\nexport interface IRouterEvent {\n\tid?: number;\n\trouterLink?: RouterLink;\n\turl?: string; // The target URL passed into the `Router#navigateByUrl()` call before navigation. This is the value before the router has parsed or applied redirects to it.\n\tinitialUrl?: any; // string | UrlTree; // The initial target URL after being parsed with `UrlSerializer.extract()`.\n\turlAfterRedirects?: string;\n\textractedUrl?: any; // UrlTree; // The extracted URL after redirects have been applied.\n\tremainUrl?: string;\n\tfinalUrl?: any; // UrlTree;\n\ttrigger?: 'imperative' | 'popstate' | 'hashchange';\n\textras?: any; // NavigationExtras;\n\tpreviousNavigation?: IRouterEvent | null;\n\troute?: Route | RouteSnapshot;\n\treason?: string;\n\tredirectTo?: RouteComponent[];\n\terror?: any;\n}\nexport class RouterEvent implements IRouterEvent {\n\turl!: string;\n\trouterLink!: RouterLink;\n\ttrigger!: 'imperative' | 'popstate' | 'hashchange';\n\tconstructor(options?: IRouterEvent) {\n\t\tif (options) {\n\t\t\tObject.assign(this, options);\n\t\t}\n\t\tif (this.routerLink) {\n\t\t\tthis.url = Array.isArray(this.routerLink) ? this.routerLink.join('') : this.routerLink;\n\t\t}\n\t}\n}\n// An event triggered when navigation starts.\nexport class NavigationStart extends RouterEvent {\n\tnavigationTrigger!: 'imperative' | 'popstate' | 'hashchange';\n\trestoredState?: { [key: string]: any };\n}\n// An event triggered when the Router parses the URL and the routes are recognized.\nexport class RoutesRecognized extends RouterEvent {\n\troute!: RouteSnapshot; // ???\n\t// state!: RouterStateSnapshot;\n}\n// An event triggered at the start of the Guard phase of routing.\nexport class GuardsCheckStart extends RouterEvent {\n\troute!: RouteSnapshot;\n}\n// An event triggered at the start of the child-activation part of the Resolve phase of routing.\nexport class ChildActivationStart extends RouterEvent {\n\troute!: RouteSnapshot;\n}\n// An event triggered at the start of the activation part of the Resolve phase of routing.\nexport class ActivationStart extends RouterEvent {\n\troute!: RouteSnapshot;\n}\n// An event triggered at the end of the Guard phase of routing.\nexport class GuardsCheckEnd extends RouterEvent {\n\troute!: RouteSnapshot;\n}\n// An event triggered at the the start of the Resolve phase of routing.\nexport class ResolveStart extends RouterEvent {\n\troute!: RouteSnapshot;\n}\n// An event triggered at the end of the Resolve phase of routing.\nexport class ResolveEnd extends RouterEvent {\n\troute!: RouteSnapshot;\n}\n// An event triggered at the end of the activation part of the Resolve phase of routing.\nexport class ActivationEnd extends RouterEvent {\n\troute!: RouteSnapshot;\n}\n// An event triggered at the end of the child-activation part of the Resolve phase of routing.\nexport class ChildActivationEnd extends RouterEvent {\n\troute!: RouteSnapshot;\n}\n// An event triggered before the Router lazy loads a route configuration.\nexport class RouteConfigLoadStart extends RouterEvent {\n\troute!: RouteSnapshot;\n\turlAfterRedirects!: string;\n}\n// An event triggered after a route has been lazy loaded.\nexport class RouteConfigLoadEnd extends RouterEvent {\n\troute!: RouteSnapshot;\n}\n// An event triggered when navigation ends successfully.\nexport class NavigationEnd extends RouterEvent {\n\turlAfterRedirects!: string;\n\troute!: RouteSnapshot;\n}\n// An event triggered when navigation is canceled. This is due to a Route Guard returning false during navigation.\nexport class NavigationCancel extends RouterEvent {\n\treason!: string;\n\tredirectTo?: RouteComponent[];\n}\n// An event triggered when navigation fails due to an unexpected error.\nexport class NavigationError extends RouterEvent {\n\terror!: any;\n}\n\n/*\nNavigationStart {id: 1, url: '/test-a', navigationTrigger: 'imperative', restoredState: null, constructor: Object}\nRoutesRecognized {id: 1, url: '/test-a', urlAfterRedirects: '/test-a', state: RouterStateSnapshot, constructor: Object}\nGuardsCheckStart {id: 1, url: '/test-a', urlAfterRedirects: '/test-a', state: RouterStateSnapshot, constructor: Object}\nChildActivationStart {snapshot: ActivatedRouteSnapshot, constructor: Object}\nActivationStart {snapshot: ActivatedRouteSnapshot, constructor: Object}\nGuardsCheckEnd {id: 1, url: '/test-a', urlAfterRedirects: '/test-a', state: RouterStateSnapshot, shouldActivate: true…}\nResolveStart {id: 1, url: '/test-a', urlAfterRedirects: '/test-a', state: RouterStateSnapshot, constructor: Object}\nResolveEnd {id: 1, url: '/test-a', urlAfterRedirects: '/test-a', state: RouterStateSnapshot, constructor: Object}\nActivationEnd {snapshot: ActivatedRouteSnapshot, constructor: Object}\nChildActivationEnd {snapshot: ActivatedRouteSnapshot, constructor: Object}\nNavigationEnd {id: 1, url: '/test-a', urlAfterRedirects: '/test-a', constructor: Object}\nScroll {routerEvent: NavigationEnd, position: null, anchor: null, constructor: Object}\n*/\n",
        "import { Component, getContextByNode, isPlatformServer, WINDOW } from 'rxcomp';\nimport { combineLatest, EMPTY, fromEvent, merge, Observable, of, ReplaySubject } from 'rxjs';\nimport { catchError, map, shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { ILocationStrategy, LocationStrategy, LocationStrategyPath } from '../location/location.strategy';\nimport { INavigationExtras, IRoute, IRoutes, Route, Routes } from '../route/route';\nimport { RoutePath } from '../route/route-path';\nimport { RouteSegment } from '../route/route-segment';\nimport { RouteSnapshot } from '../route/route-snapshot';\nimport { RouteComponent, RouterKeyValue, RouterLink } from '../router.types';\nimport { ActivationEnd, ActivationStart, ChildActivationEnd, ChildActivationStart, GuardsCheckEnd, GuardsCheckStart, IRouterEvent, NavigationCancel, NavigationEnd, NavigationError, NavigationStart, ResolveEnd, ResolveStart, RouteConfigLoadEnd, RouteConfigLoadStart, RouterEvent, RoutesRecognized } from './router-events';\n\nexport default class RouterService {\n\tstatic routes: Routes = [];\n\tstatic route$: ReplaySubject<RouteSnapshot> = new ReplaySubject<RouteSnapshot>(1);\n\tstatic events$: ReplaySubject<RouterEvent> = new ReplaySubject<RouterEvent>(1);\n\tstatic observe$: Observable<RouterEvent>;\n\tstatic get flatRoutes(): Routes {\n\t\treturn getFlatRoutes_(this.routes);\n\t}\n\tstatic setRoutes(routes: IRoutes): RouterService {\n\t\tthis.routes = routes.map((x: IRoute) => new Route(x));\n\t\tthis.observe$ = makeObserve$_(this.routes, this.route$, this.events$, this.locationStrategy);\n\t\treturn this;\n\t}\n\tstatic setRouterLink(routerLink: RouterLink, extras: INavigationExtras = { skipLocationChange: false }): void {\n\t\t// ['/hero', hero.id];\n\t\tthis.events$.next(new NavigationStart({ routerLink, trigger: 'imperative' }));\n\t}\n\tstatic navigate(routerLink: RouterLink, extras: INavigationExtras = { skipLocationChange: false }): void {\n\t\t// navigate(['items'], { relativeTo: this.route });\n\t\t// navigate(['/heroes', { id: heroId }]);\n\t\tthis.events$.next(new NavigationStart({ routerLink, trigger: 'imperative' }));\n\t}\n\tstatic findRoute(routerLink: RouterLink): Route | null {\n\t\tconst initialUrl: string = this.locationStrategy.serializeLink(routerLink);\n\t\treturn this.findRouteByUrl(initialUrl);\n\t}\n\tstatic findRouteByUrl(initialUrl: string): Route | null {\n\t\tconst routes: Routes = getFlatRoutes_(this.routes);\n\t\tlet resolvedRoute: Route | null = null;\n\t\tlet lastMatcbesLength = Number.NEGATIVE_INFINITY;\n\t\tfor (let route of routes) {\n\t\t\tconst matches: RegExpMatchArray | null = initialUrl.match(route.matcher);\n\t\t\tif (matches && (!resolvedRoute || matches[0].length > lastMatcbesLength)) {\n\t\t\t\tlastMatcbesLength = matches[0].length;\n\t\t\t\tresolvedRoute = route;\n\t\t\t}\n\t\t}\n\t\tlet urlAfterRedirects: string = initialUrl;\n\t\tif (resolvedRoute && resolvedRoute.redirectTo) {\n\t\t\t// const routePath: RoutePath = RouterService.getPath(resolvedRoute.redirectTo);\n\t\t\t// urlAfterRedirects = routePath.url;\n\t\t\turlAfterRedirects = resolvedRoute.redirectTo;\n\t\t\tresolvedRoute = this.findRouteByUrl(urlAfterRedirects);\n\t\t}\n\t\t// console.log('RouterService.findRouteByUrl', resolvedRoute);\n\t\treturn resolvedRoute;\n\t}\n\tstatic getPath(routerLink: RouterLink = []): RoutePath {\n\t\tconst lastPath: string = (Array.isArray(routerLink) ? routerLink : [routerLink]).map(x => {\n\t\t\treturn typeof x === 'string' ? x : this.locationStrategy.encodeParams(x);\n\t\t}).join('/');\n\t\tconst segments: RouteSegment[] = [];\n\t\tconst routes: (Route | RouteSnapshot)[] = [];\n\t\tconst route: Route | null = this.findRouteByUrl(lastPath);\n\t\tif (route) {\n\t\t\tlet r: Route | RouteSnapshot | undefined | null = route?.parent;\n\t\t\twhile (r) {\n\t\t\t\tsegments.unshift.apply(segments, r.segments);\n\t\t\t\troutes.unshift(r instanceof RouteSnapshot ? r : r.snapshot || r);\n\t\t\t\tr = r.parent;\n\t\t\t}\n\t\t\tsegments.push.apply(segments, route?.segments || []);\n\t\t\troutes.push({ path: lastPath } as any);\n\t\t}\n\t\tlet initialUrl: string = routes.map(r => r instanceof RouteSnapshot ? r.extractedUrl : r.path).join('/');\n\t\tinitialUrl = this.locationStrategy.getPath(initialUrl);\n\t\t// console.log('RouterService.getPath', initialUrl);\n\t\tconst routePath: RoutePath = new RoutePath(initialUrl, segments, route || undefined, this.locationStrategy);\n\t\treturn routePath;\n\t}\n\tprivate static locationStrategy_: ILocationStrategy;\n\tstatic get locationStrategy(): ILocationStrategy {\n\t\tif (this.locationStrategy_) {\n\t\t\treturn this.locationStrategy_;\n\t\t} else {\n\t\t\treturn this.locationStrategy_ = new LocationStrategyPath();\n\t\t}\n\t}\n\tstatic useLocationStrategy(locationStrategyType: typeof LocationStrategy): void {\n\t\tthis.locationStrategy_ = new locationStrategyType();\n\t}\n}\nfunction getFlatRoutes_(routes: Routes): Routes {\n\tconst reduceRoutes: (routes: Route[]) => Route[] = (routes: Route[]): Route[] => {\n\t\treturn routes.reduce<Routes>((p: Route[], c: Route) => {\n\t\t\tp.push(c);\n\t\t\tp.push.apply(p, reduceRoutes(c.children || []));\n\t\t\treturn p;\n\t\t}, []);\n\t}\n\treturn reduceRoutes(routes);\n}\nfunction getFlatSnapshots_(currentSnapshot: RouteSnapshot): RouteSnapshot[] {\n\tlet snapshots: RouteSnapshot[] = [currentSnapshot];\n\tlet childRoute: RouteSnapshot | undefined = currentSnapshot.childRoute;\n\twhile (childRoute) {\n\t\tsnapshots.push(childRoute)\n\t\tchildRoute = childRoute.childRoute;\n\t}\n\treturn snapshots;\n}\nfunction clearRoutes_(routes: Routes, currentSnapshot: RouteSnapshot): void {\n\tlet snapshots: RouteSnapshot[] = getFlatSnapshots_(currentSnapshot);\n\tconst flatRoutes: Routes = getFlatRoutes_(routes);\n\tflatRoutes.forEach((route: Route) => {\n\t\tif (route.snapshot && snapshots.indexOf(route.snapshot) === -1) {\n\t\t\troute.snapshot = undefined;\n\t\t}\n\t});\n}\nfunction resolveRoutes_(routes: Routes, childRoutes: Routes, initialUrl: string): RouteSnapshot | undefined {\n\tlet resolvedRoute: RouteSnapshot | undefined;\n\tfor (let childRoute of childRoutes) {\n\t\tconst route: RouteSnapshot | undefined = resolveRoute_(routes, childRoute, initialUrl);\n\t\tif (route && (!resolvedRoute || route.remainUrl!.length < resolvedRoute.remainUrl!.length)) {\n\t\t\tresolvedRoute = route;\n\t\t}\n\t}\n\treturn resolvedRoute;\n\t// return childRoutes.reduce<RouteSnapshot | undefined>((p, route) => p || resolveRoute_(routes, route, initialUrl), undefined);\n}\nfunction resolveRoute_(routes: Routes, route: Route, initialUrl: string): RouteSnapshot | undefined {\n\t// console.log('resolveRoute_', initialUrl);\n\tlet urlAfterRedirects!: string;\n\tlet extractedUrl: string = '';\n\tlet remainUrl: string = initialUrl;\n\tconst match: RegExpMatchArray | null = initialUrl.match(route.matcher);\n\t// console.log(route.matcher, match?.length, initialUrl, '=>', route.path);\n\tif (!match) {\n\t\t// console.log(initialUrl, '=>', route.path, initialUrl.match(route.matcher));\n\t\treturn undefined;\n\t}\n\tif (route.redirectTo) {\n\t\t// console.log('match', initialUrl, '=>', route.redirectTo, match);\n\t\tconst routePath: RoutePath = RouterService.getPath(route.redirectTo);\n\t\treturn resolveRoutes_(routes, routes, routePath.url);\n\t}/* else {\n        // console.log('match', initialUrl, match);\n    }*/\n\textractedUrl = match[0];\n\tremainUrl = initialUrl.substring(match[0].length, initialUrl.length);\n\tconst routePath: RoutePath = new RoutePath(extractedUrl, route.segments, undefined, RouterService.locationStrategy);\n\tlet params: RouterKeyValue = routePath.params;\n\tconst snapshot: RouteSnapshot = new RouteSnapshot({ ...route, initialUrl, urlAfterRedirects, extractedUrl, remainUrl, params });\n\troute.snapshot = snapshot;\n\tif (route.children?.length && remainUrl.length) {\n\t\tconst childRoute: RouteSnapshot | undefined = resolveRoutes_(routes, route.children, remainUrl);\n\t\tsnapshot.childRoute = childRoute;\n\t\tif (childRoute) {\n\t\t\tchildRoute.parent = snapshot;\n\t\t}\n\t}\n\t// console.log('RouteSnapshot', snapshot.path, snapshot.extractedUrl, snapshot.remainUrl);\n\treturn snapshot;\n}\nfunction makeActivatorResponse$_(event: RouterEvent, activators: Observable<boolean | RouteComponent[]>[]): Observable<RouterEvent> {\n\t// console.log('makeActivatorResponse$_', event);\n\treturn combineLatest(...activators).pipe(\n\t\tmap((values: (boolean | RouteComponent[])[]) => {\n\t\t\tconst canActivate: boolean | RouteComponent[] = values.reduce<boolean | RouteComponent[]>((p: boolean | RouteComponent[], c: boolean | RouteComponent[]) => {\n\t\t\t\treturn p === true ? (c === true ? true : c) : p;\n\t\t\t}, true);\n\t\t\tif (canActivate === true) {\n\t\t\t\treturn event;\n\t\t\t} else {\n\t\t\t\tconst cancelEvent: IRouterEvent = { ...event, reason: 'An activation guard has dismissed navigation to the route.' };\n\t\t\t\tif (canActivate !== false) {\n\t\t\t\t\tconst routePath: RoutePath = RouterService.getPath(canActivate);\n\t\t\t\t\tcancelEvent.redirectTo = [routePath.url];\n\t\t\t\t}\n\t\t\t\treturn new NavigationCancel(cancelEvent);\n\t\t\t}\n\t\t})\n\t);\n}\nfunction makeCanDeactivateResponse$_(events$: ReplaySubject<RouterEvent>, event: GuardsCheckStart, currentRoute?: RouteSnapshot): Observable<RouterEvent> {\n\t// console.log('makeCanDeactivateResponse$_', event);\n\tif (event.route.canDeactivate && event.route.canDeactivate.length) {\n\t\tconst route: RouteSnapshot = event.route;\n\t\tconst instance: Component = getContextByNode(event.route.element!)!.instance;\n\t\treturn makeActivatorResponse$_(event, route.canDeactivate.map(x => x(instance, currentRoute!)));\n\t} else {\n\t\treturn of(event);\n\t}\n}\nfunction makeCanLoadResponse$_(events$: ReplaySubject<RouterEvent>, event: GuardsCheckStart): Observable<RouterEvent> {\n\t// console.log('makeCanLoadResponse$_', event);\n\tif (event.route.canLoad && event.route.canLoad.length) {\n\t\tconst route: RouteSnapshot = event.route;\n\t\treturn makeActivatorResponse$_(event, route.canLoad.map(x => x(route, route.segments)));\n\t} else {\n\t\treturn of(event);\n\t}\n}\nfunction makeCanActivateChildResponse$_(events$: ReplaySubject<RouterEvent>, event: GuardsCheckStart): Observable<RouterEvent> {\n\t// console.log('makeCanActivateChildResponse$_', event, event.route.childRoute);\n\tconst reduceChildRouteActivators_ = (route: RouteSnapshot, activators: Observable<boolean | RouteComponent[]>[]): Observable<boolean | RouteComponent[]>[] => {\n\t\t// console.log('reduceChildRouteActivators_', route.canActivateChild, route.childRoute);\n\t\twhile (route != null && route.canActivateChild && route.canActivateChild.length && route.childRoute) {\n\t\t\tconst routeActivators: Observable<boolean | RouteComponent[]>[] = route.canActivateChild.map(x => x(route.childRoute!));\n\t\t\tArray.prototype.push.apply(activators, routeActivators);\n\t\t\troute = route.childRoute;\n\t\t}\n\t\treturn activators;\n\t}\n\tconst activators: Observable<boolean | RouteComponent[]>[] = reduceChildRouteActivators_(event.route, []);\n\t// console.log('makeCanActivateChildResponse$_', activators);\n\tif (activators.length) {\n\t\treturn makeActivatorResponse$_(event, activators);\n\t} else {\n\t\treturn of(event);\n\t}\n}\nfunction makeCanActivateResponse$_(events$: ReplaySubject<RouterEvent>, event: ChildActivationStart): Observable<RouterEvent> {\n\t// console.log('makeCanActivateResponse$_', event);\n\tif (event.route.canActivate && event.route.canActivate.length) {\n\t\tconst route: RouteSnapshot = event.route;\n\t\treturn makeActivatorResponse$_(event, route.canActivate.map(x => x(route)));\n\t} else {\n\t\treturn of(event);\n\t}\n}\nfunction makeObserve$_(routes: Routes, route$: ReplaySubject<RouteSnapshot>, events$: ReplaySubject<RouterEvent>, locationStrategy: ILocationStrategy): Observable<RouterEvent> {\n\tlet currentRoute: RouteSnapshot | undefined;\n\t// console.log('RouterService.WINDOW', WINDOW!!);\n\tconst stateEvents$ = isPlatformServer ? EMPTY : merge(fromEvent<PopStateEvent>(WINDOW, 'popstate')).pipe(\n\t\t/*\n\t\ttap((event: PopStateEvent) => {\n\t\t\t// detect rxcomp !!!\n\t\t\t// event.preventDefault();\n\t\t\t// event.stopImmediatePropagation(); // !!!\n\t\t\t// history.go(1);\n\t\t\t// console.log('RouterService.onPopState', `location: \"${document.location.pathname}\"`, `state: \"${event.state}\"`);\n\t\t}),\n\t\t*/\n\t\tmap(event => new NavigationStart({ routerLink: document.location.pathname, trigger: 'popstate' })),\n\t\tshareReplay(1),\n\t);\n\treturn merge(stateEvents$, events$).pipe(\n\t\tswitchMap((event: RouterEvent) => {\n\t\t\tif (event instanceof GuardsCheckStart) {\n\t\t\t\treturn makeCanDeactivateResponse$_(events$, event, currentRoute).pipe(\n\t\t\t\t\tswitchMap((nextEvent: RouterEvent) => {\n\t\t\t\t\t\tif (nextEvent instanceof NavigationCancel) {\n\t\t\t\t\t\t\treturn of(nextEvent);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn makeCanLoadResponse$_(events$, event).pipe(\n\t\t\t\t\t\t\t\tswitchMap((nextEvent: RouterEvent) => {\n\t\t\t\t\t\t\t\t\tif (nextEvent instanceof NavigationCancel) {\n\t\t\t\t\t\t\t\t\t\treturn of(nextEvent);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn makeCanActivateChildResponse$_(events$, event);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t} else if (event instanceof ChildActivationStart) {\n\t\t\t\treturn makeCanActivateResponse$_(events$, event);\n\t\t\t} else {\n\t\t\t\treturn of(event);\n\t\t\t}\n\t\t}),\n\t\ttap((event: RouterEvent) => {\n\t\t\tif (event instanceof NavigationStart) {\n\t\t\t\t// console.log('NavigationStart', event.routerLink);\n\t\t\t\tconst routerLink = event.routerLink;\n\t\t\t\t// console.log('routerLink', routerLink);\n\t\t\t\tlet snapshot: RouteSnapshot | undefined;\n\t\t\t\tlet initialUrl: string;\n\t\t\t\tconst routePath: RoutePath = RouterService.getPath(routerLink);\n\t\t\t\t// console.log(routePath, routePath.url);\n\t\t\t\tinitialUrl = routePath.url;\n\t\t\t\t// console.log('initialUrl', initialUrl);\n\t\t\t\tconst isRelative: boolean = initialUrl.indexOf('/') !== 0;\n\t\t\t\tif (isRelative && currentRoute && currentRoute.children?.length) {\n\t\t\t\t\tsnapshot = resolveRoutes_(routes, currentRoute.children, initialUrl);\n\t\t\t\t\tif (snapshot) {\n\t\t\t\t\t\tcurrentRoute.childRoute = snapshot;\n\t\t\t\t\t\tsnapshot.parent = currentRoute;\n\t\t\t\t\t\tsnapshot = currentRoute;\n\t\t\t\t\t}\n\t\t\t\t\t// console.log('relative', currentRoute, snapshot, initialUrl);\n\t\t\t\t} else {\n\t\t\t\t\tsnapshot = resolveRoutes_(routes, routes, initialUrl);\n\t\t\t\t\t// console.log('absolute');\n\t\t\t\t}\n\t\t\t\tif (snapshot) {\n\t\t\t\t\t// console.log(routes);\n\t\t\t\t\tcurrentRoute = snapshot;\n\t\t\t\t\tevents$.next(new RoutesRecognized({ ...event, route: snapshot }));\n\t\t\t\t} else {\n\t\t\t\t\tevents$.next(new NavigationError({ ...event, error: new Error('unknown route') }));\n\t\t\t\t}\n\t\t\t} else if (event instanceof RoutesRecognized) {\n\t\t\t\t// console.log('RoutesRecognized', event.route.component, event.route.initialUrl, event.route.extractedUrl, event.route.urlAfterRedirects);\n\t\t\t\tevents$.next(new GuardsCheckStart({ ...event }));\n\t\t\t} else if (event instanceof GuardsCheckStart) {\n\t\t\t\t// console.log('GuardsCheckStart', event);\n\t\t\t\tevents$.next(new ChildActivationStart({ ...event }));\n\t\t\t} else if (event instanceof ChildActivationStart) {\n\t\t\t\t// console.log('ChildActivationStart', event);\n\t\t\t\tevents$.next(new ActivationStart({ ...event }));\n\t\t\t} else if (event instanceof ActivationStart) {\n\t\t\t\t// console.log('ActivationStart', event);\n\t\t\t\tevents$.next(new GuardsCheckEnd({ ...event }));\n\t\t\t} else if (event instanceof GuardsCheckEnd) {\n\t\t\t\t// console.log('GuardsCheckEnd', event);\n\t\t\t\tevents$.next(new ResolveStart({ ...event }));\n\t\t\t} else if (event instanceof ResolveStart) {\n\t\t\t\t// console.log('ResolveStart', event);\n\t\t\t\tevents$.next(new ResolveEnd({ ...event }));\n\t\t\t} else if (event instanceof ResolveEnd) {\n\t\t\t\t// console.log('ResolveEnd', event);\n\t\t\t\tevents$.next(new ActivationEnd({ ...event }));\n\t\t\t} else if (event instanceof ActivationEnd) {\n\t\t\t\t// console.log('ActivationEnd', event);\n\t\t\t\tevents$.next(new ChildActivationEnd({ ...event }));\n\t\t\t} else if (event instanceof ChildActivationEnd) {\n\t\t\t\t// console.log('ChildActivationEnd', event);\n\t\t\t\tevents$.next(new RouteConfigLoadStart({ ...event }));\n\t\t\t} else if (event instanceof RouteConfigLoadStart) {\n\t\t\t\t// console.log('RouteConfigLoadStart', event);\n\t\t\t\tevents$.next(new RouteConfigLoadEnd({ ...event }));\n\t\t\t} else if (event instanceof RouteConfigLoadEnd) {\n\t\t\t\t// console.log('RouteConfigLoadEnd', event);\n\t\t\t\tevents$.next(new NavigationEnd({ ...event }));\n\t\t\t} else if (event instanceof NavigationEnd) {\n\t\t\t\tconst segments: string[] = [];\n\t\t\t\tlet source: RouteSnapshot | undefined = event.route;\n\t\t\t\twhile (source != null) {\n\t\t\t\t\t// console.log(source.params, source.data);\n\t\t\t\t\tif (source.extractedUrl?.length) {\n\t\t\t\t\t\tsegments.push(source.extractedUrl);\n\t\t\t\t\t}\n\t\t\t\t\tif (source.childRoute) {\n\t\t\t\t\t\tsource = source.childRoute;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (source.remainUrl?.length) {\n\t\t\t\t\t\t\tsegments[segments.length - 1] = segments[segments.length - 1] + source.remainUrl;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst extractedUrl: string = segments.join('/').replace(/\\/\\//g, '/');\n\t\t\t\tconsole.log('NavigationEnd', event.route.initialUrl, event.route.extractedUrl, event.route.urlAfterRedirects);\n\t\t\t\tclearRoutes_(routes, event.route);\n\t\t\t\tlocationStrategy.setHistory(extractedUrl, undefined, event.trigger === 'popstate');\n\t\t\t\t// setHistory_(locationStrategy, extractedUrl, undefined, event.trigger === 'popstate');\n\t\t\t\troute$.next(event.route);\n\t\t\t} else if (event instanceof NavigationCancel) {\n\t\t\t\tconsole.log('NavigationCancel', event.reason, event.redirectTo);\n\t\t\t\tif (event.redirectTo) {\n\t\t\t\t\t// const routePath: RoutePath = RouterService.getPath(event.redirectTo);\n\t\t\t\t\tevents$.next(new NavigationStart({ routerLink: event.redirectTo, trigger: 'imperative' }));\n\t\t\t\t}\n\t\t\t} else if (event instanceof NavigationError) {\n\t\t\t\tconsole.log('NavigationError', event.error);\n\t\t\t}\n\t\t}),\n\t\tcatchError((error: Error) => of(new NavigationError({ ...event, error }))),\n\t\tshareReplay(1),\n\t);\n}\n",
        "import { Directive, getContext, IFactoryMeta } from 'rxcomp';\nimport { fromEvent, Observable } from 'rxjs';\nimport { shareReplay, takeUntil } from 'rxjs/operators';\nimport { INavigationExtras } from '../route/route';\nimport { RoutePath } from '../route/route-path';\nimport { RouteSegment } from '../route/route-segment';\nimport { RouteComponent, RouterLink } from '../router.types';\nimport RouterService from './router.service';\n\nexport default class RouterLinkDirective extends Directive {\n\tpath!: RoutePath;\n\tsegments!: RouteSegment[];\n\tprivate routerLink_!: RouteComponent[];\n\tget routerLink(): RouterLink {\n\t\treturn this.routerLink_;\n\t}\n\tset routerLink(routerLink: RouterLink) {\n\t\tthis.routerLink_ = Array.isArray(routerLink) ? routerLink : [routerLink];\n\t\tthis.segments = this.getSegments(this.routerLink_);\n\t}\n\tgetSegments(routerLink: RouteComponent[]): RouteSegment[] {\n\t\t// console.log('RouterLinkDirective.getSegments', routerLink);\n\t\tconst segments: RouteSegment[] = [];\n\t\trouterLink.forEach(item => {\n\t\t\tif (typeof item === 'string') {\n\t\t\t\tconst regExp: RegExp = /([^:]+)|\\:([^\\/]+)/g;\n\t\t\t\tconst matches = item.matchAll(regExp);\n\t\t\t\tconst components = [];\n\t\t\t\tfor (let match of matches) {\n\t\t\t\t\tconst g1 = match[1];\n\t\t\t\t\tconst g2 = match[2];\n\t\t\t\t\tif (g1) {\n\t\t\t\t\t\tcomponents.push(g1);\n\t\t\t\t\t} else if (g2) {\n\t\t\t\t\t\tconst param: { [key: string]: any } = {};\n\t\t\t\t\t\tparam[g2] = null;\n\t\t\t\t\t\tcomponents.push(param);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsegments.push(new RouteSegment('', {}));\n\t\t\t}\n\t\t});\n\t\treturn segments;\n\t}\n\tonInit() {\n\t\tconst { node } = getContext(this);\n\t\tconst event$: Observable<Event> = fromEvent<Event>(node, 'click').pipe(shareReplay(1));\n\t\tevent$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe(event => {\n\t\t\t// console.log('RouterLinkDirective', event, this.routerLink);\n\t\t\t// !!! skipLocationChange\n\t\t\tconst navigationExtras: INavigationExtras = {\n\t\t\t\tskipLocationChange: this.skipLocationChange,\n\t\t\t\treplaceUrl: this.replaceUrl,\n\t\t\t\tstate: this.state,\n\t\t\t};\n\t\t\tRouterService.setRouterLink(this.routerLink, navigationExtras);\n\t\t\tevent.preventDefault();\n\t\t\treturn false;\n\t\t});\n\t}\n\tonChanges() {\n\t\tconst { node } = getContext(this);\n\t\tconst routePath: RoutePath = RouterService.getPath(this.routerLink_);\n\t\t// console.log('RouterLinkDirective.routePath', routePath);\n\t\tnode.setAttribute('href', routePath.url);\n\t}\n\tstatic meta: IFactoryMeta = {\n\t\tselector: '[routerLink],[[routerLink]]',\n\t\tinputs: ['routerLink'],\n\t};\n}\n\n/*\nget urlTree(): UrlTree {\n    return RouterService.createUrlTree(this.routerLink, {\n        relativeTo: this.route,\n        queryParams: this.queryParams,\n        fragment: this.fragment,\n        preserveQueryParams: this.preserve,\n        queryParamsHandling: this.queryParamsHandling,\n        preserveFragment: this.preserveFragment,\n    });\n}\n*/\n",
        "import { Directive, getContext, IFactoryMeta } from 'rxcomp';\nimport { RoutePath } from '../route/route-path';\nimport RouterLinkDirective from './router-link.directive';\nimport RouterService from './router.service';\n\nexport default class RouterLinkActiveDirective extends Directive {\n\trouterLinkActive!: { [key: string]: string } | string;\n\tkeys: string[] = [];\n\tonChanges() {\n\t\t// console.log('RouterLinkActive.onChanges');\n\t\tconst { node } = getContext(this);\n\t\tnode.classList.remove.apply(node.classList, this.keys);\n\t\tlet keys: string[] = [];\n\t\tconst active = this.isActive();\n\t\tif (active) {\n\t\t\tconst object = this.routerLinkActive;\n\t\t\tif (typeof object === 'object') {\n\t\t\t\tfor (let key in object) {\n\t\t\t\t\tif (object[key]) {\n\t\t\t\t\t\tkeys.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (typeof object === 'string') {\n\t\t\t\tkeys = object.split(' ').filter(x => x.length);\n\t\t\t}\n\t\t}\n\t\tnode.classList.add.apply(node.classList, keys);\n\t\tthis.keys = keys;\n\t\t// console.log('RouterLinkActive.onChanges', active, keys);\n\t}\n\tisActive(): boolean {\n\t\tconst path: RoutePath = RouterService.getPath(this.host.routerLink);\n\t\tconst isActive: boolean = path.route?.snapshot != null;\n\t\t// console.log('RouterLinkActive.isActive', isActive);\n\t\treturn isActive;\n\t}\n\tstatic meta: IFactoryMeta = {\n\t\tselector: '[routerLinkActive],[[routerLinkActive]]',\n\t\thosts: { host: RouterLinkDirective },\n\t\tinputs: ['routerLinkActive'],\n\t};\n}\n",
        "import { Component, Factory, getContext, IComment, IElement, IFactoryMeta, Structure } from 'rxcomp';\nimport { isObservable, Observable, Observer, of, ReplaySubject, Subscription } from 'rxjs';\nimport { filter, switchMap, takeUntil, tap } from 'rxjs/operators';\nimport View from '../core/view';\nimport { isPromise } from '../route/route-activators';\nimport { RouteSnapshot } from '../route/route-snapshot';\nimport RouterService from './router.service';\n\nexport default class RouterOutletStructure extends Structure {\n\tprivate route$_: ReplaySubject<RouteSnapshot | undefined> = new ReplaySubject<RouteSnapshot | undefined>(1);\n\tprivate route_?: RouteSnapshot;\n\tprivate factory_?: typeof Component;\n\tget route(): RouteSnapshot | undefined {\n\t\treturn this.route_;\n\t}\n\thost?: RouterOutletStructure;\n\toutlet!: IComment;\n\telement?: IElement;\n\tinstance?: Component;\n\tonInit() {\n\t\tthis.route$().pipe(\n\t\t\tswitchMap(snapshot => this.factory$(snapshot)),\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe(() => {\n\t\t\t// console.log(`RouterOutletStructure ActivatedRoutes: [\"${RouterService.flatRoutes.filter(x => x.snapshot).map(x => x.snapshot?.extractedUrl).join('\", \"')}\"]`);\n\t\t});\n\t\tif (this.host) {\n\t\t\tthis.route$_.next(this.host.route?.childRoute);\n\t\t}\n\t}\n\tonChanges() {\n\t\tif (this.host) {\n\t\t\tthis.route$_.next(this.host.route?.childRoute);\n\t\t}\n\t}\n\troute$(): Observable<RouteSnapshot | undefined> {\n\t\tconst source: Observable<RouteSnapshot | undefined> = this.host ? this.route$_ : RouterService.route$;\n\t\treturn source.pipe(\n\t\t\tfilter((snapshot: RouteSnapshot | undefined) => {\n\t\t\t\tthis.route_ = snapshot; // !!!\n\t\t\t\tif (this.snapshot_ && snapshot && this.snapshot_.component === snapshot.component) {\n\t\t\t\t\tthis.snapshot_.next(snapshot);\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.snapshot_ = snapshot;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\t}\n\tfactory$(snapshot: RouteSnapshot | undefined): Observable<boolean> {\n\t\tconst { module, node } = getContext(this);\n\t\tconst factory: typeof Component | undefined = snapshot?.component;\n\t\tif (this.factory_ !== factory) {\n\t\t\tthis.factory_ = factory;\n\t\t\treturn this.onExit$_(this.element, this.instance).pipe(\n\t\t\t\ttap(() => {\n\t\t\t\t\tif (this.element) {\n\t\t\t\t\t\tthis.element.parentNode!.removeChild(this.element);\n\t\t\t\t\t\tmodule.remove(this.element, this);\n\t\t\t\t\t\tthis.element = undefined;\n\t\t\t\t\t\tthis.instance = undefined;\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tswitchMap(() => {\n\t\t\t\t\tif (snapshot && factory && factory.meta.template) {\n\t\t\t\t\t\tlet element: IElement = document.createElement('div');\n\t\t\t\t\t\telement.innerHTML = factory.meta.template;\n\t\t\t\t\t\tif (element.children.length === 1) {\n\t\t\t\t\t\t\telement = element.firstElementChild as IElement;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnode.appendChild(element);\n\t\t\t\t\t\tconst instance: Factory | undefined = module.makeInstance(element, factory, factory.meta.selector!, this, undefined, { route: snapshot });\n\t\t\t\t\t\tmodule.compile(element, instance);\n\t\t\t\t\t\tthis.instance = instance;\n\t\t\t\t\t\tthis.element = element;\n\t\t\t\t\t\tsnapshot.element = element;\n\t\t\t\t\t\treturn this.onEnter$_(element, instance);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn of(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t} else {\n\t\t\treturn of(false);\n\t\t}\n\t}\n\tprivate onEnter$_(element?: IElement, instance?: Component): Observable<boolean> {\n\t\tif (element && instance && instance instanceof View) {\n\t\t\treturn asObservable([element], instance.onEnter);\n\t\t} else {\n\t\t\treturn of(true);\n\t\t}\n\t}\n\tprivate onExit$_(element?: IElement, instance?: Component): Observable<boolean> {\n\t\tif (element && instance && instance instanceof View) {\n\t\t\treturn asObservable([element], instance.onExit);\n\t\t} else {\n\t\t\treturn of(true);\n\t\t}\n\t}\n\tstatic meta: IFactoryMeta = {\n\t\tselector: 'router-outlet,[router-outlet]',\n\t\thosts: { host: RouterOutletStructure },\n\t};\n}\nexport function asObservable<T>(args: any[], callback: (...args: any[]) => Observable<T> | Promise<T> | (() => T) | T): Observable<T> {\n\treturn Observable.create(function (observer: Observer<T>) {\n\t\tlet subscription: Subscription;\n\t\ttry {\n\t\t\tlet result: Observable<T> | Promise<T> | (() => T) | T = callback(...args);\n\t\t\tif (isObservable(result)) {\n\t\t\t\tsubscription = result.subscribe(result => {\n\t\t\t\t\tobserver.next(result);\n\t\t\t\t\tobserver.complete();\n\t\t\t\t});\n\t\t\t} else if (isPromise<T>(result)) {\n\t\t\t\t(result as Promise<T>).then(result => {\n\t\t\t\t\tobserver.next(result);\n\t\t\t\t\tobserver.complete();\n\t\t\t\t});\n\t\t\t} else if (typeof result === 'function') {\n\t\t\t\tobserver.next((result as (() => T))() as T);\n\t\t\t\tobserver.complete();\n\t\t\t} else {\n\t\t\t\tobserver.next(result);\n\t\t\t\tobserver.complete();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tobserver.error(error);\n\t\t}\n\t\treturn () => {\n\t\t\tif (subscription) {\n\t\t\t\tsubscription.unsubscribe();\n\t\t\t}\n\t\t}\n\t});\n}\n",
        "import { Factory, IModuleMeta, Module, Pipe } from 'rxcomp';\nimport { takeUntil, tap } from 'rxjs/operators';\nimport { LocationStrategy } from './location/location.strategy';\nimport { IRoute } from './route/route';\nimport { NavigationCancel, NavigationEnd, NavigationError, RouterEvent } from './router/router-events';\nimport RouterLinkActiveDirective from './router/router-link-active.directive';\nimport RouterLinkDirective from './router/router-link.directive';\nimport RouterOutletStructure from './router/router-outlet.structure';\nimport RouterService from './router/router.service';\n\nconst factories: typeof Factory[] = [\n\tRouterOutletStructure,\n\tRouterLinkDirective,\n\tRouterLinkActiveDirective,\n];\nconst pipes: typeof Pipe[] = [\n];\n/**\n *  RouterModule Class.\n * @example\n * export default class AppModule extends Module {}\n *\n * AppModule.meta = {\n *  imports: [\n *   CoreModule,\n *   RouterModule.forRoot([\n *    { path: '', redirectTo: '/index', pathMatch: 'full' },\n *    { path: 'index', component: IndexComponent, data: { title: 'Index' } }\n *   ])\n *  ],\n *  declarations: [\n *   IndexComponent\n *  ],\n *  bootstrap: AppComponent,\n * };\n * @extends Module\n */\nexport default class RouterModule extends Module {\n\tconstructor() {\n\t\tsuper();\n\t\t// console.log('RouterModule');\n\t\tRouterService.observe$.pipe(\n\t\t\ttap((event: RouterEvent) => {\n\t\t\t\tif (event instanceof NavigationEnd\n\t\t\t\t\t|| event instanceof NavigationCancel\n\t\t\t\t\t|| event instanceof NavigationError) {\n\t\t\t\t\tif (this.instances?.length) {\n\t\t\t\t\t\tconst root = this.instances[0];\n\t\t\t\t\t\troot.pushChanges();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}),\n\t\t\ttakeUntil(this.unsubscribe$),\n\t\t).subscribe();\n\t\tRouterService.navigate(`${location.pathname === '' ? '/' : location.pathname}${location.search}${location.hash}`);\n\t}\n\tstatic meta: IModuleMeta = {\n\t\tdeclarations: [\n\t\t\t...factories,\n\t\t\t...pipes,\n\t\t],\n\t\texports: [\n\t\t\t...factories,\n\t\t\t...pipes,\n\t\t]\n\t};\n\tstatic forRoot(routes: IRoute[]): typeof RouterModule {\n\t\tRouterService.setRoutes(routes);\n\t\treturn this;\n\t}\n\tstatic useStrategy(locationStrategyType: typeof LocationStrategy): typeof RouterModule {\n\t\tRouterService.useLocationStrategy(locationStrategyType);\n\t\treturn this;\n\t}\n}\n",
        "import { Observable } from 'rxjs';\n\nexport enum RouteLocationStrategy {\n\tPath = 'path',\n\tHash = 'hash',\n}\nexport type RouteComponent = string | number | { [key: string]: any; };\nexport type RouterLink = string | RouteComponent[];\nexport type RouterActivator = Observable<boolean> | (() => boolean) | boolean;\nexport type RouterActivatorResult = Observable<boolean | RouteComponent[]> | Promise<boolean | RouteComponent[]> | boolean | RouteComponent[];\nexport type RouterKeyValue = { [key: string]: RouterKeyValue | string | null };\nexport type Params = { [key: string]: any; };\nexport type Data = { [key: string]: any; };\n",
        "import { isPlatformBrowser } from 'rxcomp';\nimport { Observable, Observer } from 'rxjs';\n\nexport function transition$(callback: (complete: (result: boolean) => void) => void) {\n\treturn Observable.create(function (observer: Observer<boolean>) {\n\t\t// let subscription: Subscription;\n\t\ttry {\n\t\t\tif (isPlatformBrowser) {\n\t\t\t\tcallback((result: boolean) => {\n\t\t\t\t\tobserver.next(result);\n\t\t\t\t\tobserver.complete();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tobserver.next(true);\n\t\t\t\tobserver.complete();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tobserver.error(error);\n\t\t}\n        /*\n        return () => {\n            if (subscription) {\n                subscription.unsubscribe();\n            }\n        }\n        */\n\t});\n}\n",
        "import { Component, errors$, getContext, IFactoryMeta } from 'rxcomp';\nimport { takeUntil } from 'rxjs/operators';\n\nexport default class AppComponent extends Component {\n\terror: any = null;\n\n\tonInit() {\n\t\t// console.log('AppComponent.onInit', this);\n\t\tconst { node } = getContext(this);\n\t\tnode.classList.add('init');\n\t\terrors$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$),\n\t\t).subscribe(error => {\n\t\t\tthis.error = error;\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tstatic meta: IFactoryMeta = {\n\t\tselector: '[app-component]',\n\t};\n}\n",
        "import { Component } from 'rxcomp';\nimport { ICanActivate, ICanActivateChild, ICanDeactivate, ICanLoad, RouterActivatorResult, RouteSegment, RouteSnapshot } from '../../../../src/rxcomp-router';\n\nexport class CustomActivator implements ICanActivate, ICanDeactivate<Component>, ICanActivateChild, ICanLoad {\n\tcanDeactivate<T>(component: T, currentRoute: RouteSnapshot): RouterActivatorResult {\n\t\t// console.log('canDeactivate', component, currentRoute);\n\t\treturn true;\n\t}\n\tcanLoad(route: RouteSnapshot, segments: RouteSegment[]): RouterActivatorResult {\n\t\t// console.log('canLoad', route, segments);\n\t\treturn true;\n\t}\n\tcanActivate(route: RouteSnapshot): RouterActivatorResult {\n\t\t// console.log('canActivate', route);\n\t\treturn ['/dashboard'];\n\t}\n\tcanActivateChild(childRoute: RouteSnapshot): RouterActivatorResult {\n\t\t// console.log('canActivateChild', childRoute);\n\t\treturn childRoute.path === 'media' ? ['files'] : true;\n\t}\n}\n\nexport const customActivator: CustomActivator = new CustomActivator();\n",
        "import { Component, IFactoryMeta } from 'rxcomp';\nimport { takeUntil } from 'rxjs/operators';\nimport { RouterKeyValue, RouterOutletStructure } from '../../../../src/rxcomp-router';\n\nexport default class ContactsComponent extends Component {\n\thost!: RouterOutletStructure;\n\tonInit() {\n\t\tconst route = this.host.route;\n\t\tif (route) {\n\t\t\troute.data$.pipe(\n\t\t\t\ttakeUntil(this.unsubscribe$)\n\t\t\t).subscribe((data: RouterKeyValue) => {\n\t\t\t\tthis.title = data.title;\n\t\t\t\t// this.pushChanges(); // !!not needed;\n\t\t\t\t// console.log('ContactsComponent', data);\n\t\t\t});\n\t\t}\n\t}\n\n\tstatic meta: IFactoryMeta = {\n\t\tselector: '[contacts-component]',\n\t\thosts: { host: RouterOutletStructure },\n\t\ttemplate: /* html */`\n        <div class=\"page-contacts\">\n            <div class=\"title\">{{title}}</div>\n        </div>\n        `,\n\t};\n}\n",
        "import { Component, IFactoryMeta } from 'rxcomp';\nimport { combineLatest } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { RouterKeyValue, RouterOutletStructure } from '../../../../src/rxcomp-router';\n\nexport default class DataComponent extends Component {\n\thost!: RouterOutletStructure;\n\tonInit() {\n\t\tconst route = this.host.route;\n\t\tif (route) {\n\t\t\tcombineLatest(route.data$, route.params$).pipe(\n\t\t\t\ttakeUntil(this.unsubscribe$)\n\t\t\t).subscribe((datas: RouterKeyValue[]) => {\n\t\t\t\tthis.title = datas[0].title;\n\t\t\t\tthis.params = datas[1];\n\t\t\t\t// this.pushChanges(); // !!not needed;\n\t\t\t\t// console.log('DataComponent', datas);\n\t\t\t});\n\t\t}\n        /*\n        this.host.route?.data$.pipe(\n            takeUntil(this.unsubscribe$),\n        ).subscribe((data) => this.title = data.title);\n        this.host.route?.params$.pipe(\n            takeUntil(this.unsubscribe$),\n        ).subscribe((params) => this.params = params);\n        */\n\t}\n\tstatic meta: IFactoryMeta = {\n\t\tselector: '[data-component]',\n\t\thosts: { host: RouterOutletStructure },\n\t\ttemplate: /* html */`\n        <div class=\"page-data\">\n            <div class=\"title\">{{title}}</div>\n            <div class=\"params\">{{params | json}}</div>\n        </div>\n        `,\n\t};\n}\n",
        "import 'gsap';\nimport { IElement, IFactoryMeta } from 'rxcomp';\nimport { combineLatest } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { RouterKeyValue, transition$, View } from '../../../../src/rxcomp-router';\n\nexport default class DetailComponent extends View {\n\tonInit() {\n\t\t// console.log('DetailComponent.onInit', this.route);\n\t\tcombineLatest(this.route.data$, this.route.params$).pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe((datas: RouterKeyValue[]) => {\n\t\t\tthis.title = datas[0].title;\n\t\t\tthis.detailId = datas[1].detailId;\n\t\t\t// this.pushChanges(); // !!not needed;\n\t\t\t// console.log('DetailComponent', datas);\n\t\t});\n\t}\n\tonEnter(node: IElement) {\n\t\treturn transition$(complete => {\n\t\t\tgsap.set(node, { opacity: 0 });\n\t\t\tgsap.to(node, {\n\t\t\t\topacity: 1,\n\t\t\t\tduration: 1,\n\t\t\t\tease: Power3.easeInOut,\n\t\t\t\tonComplete: () => {\n\t\t\t\t\tcomplete(true);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\tonExit(node: IElement) {\n\t\treturn transition$(complete => {\n\t\t\tgsap.set(node, { opacity: 1 });\n\t\t\tgsap.to(node, {\n\t\t\t\topacity: 0,\n\t\t\t\tduration: 1,\n\t\t\t\tease: Power3.easeInOut,\n\t\t\t\tonComplete: () => {\n\t\t\t\t\tcomplete(true);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\tstatic meta: IFactoryMeta = {\n\t\tselector: '[detail-component]',\n\t\ttemplate: /* html */`\n        <div class=\"page-detail\">\n            <div class=\"title\">Detail {{detailId}}</div>\n            <ul class=\"nav--menu\">\n                <li><a routerLink=\"media\" routerLinkActive=\"active\">Media</a></li>\n                <li><a routerLink=\"files\" routerLinkActive=\"active\">Files</a></li>\n            </ul>\n            <router-outlet></router-outlet>\n        </div>\n        `,\n\t};\n}\n",
        "import { Component, IFactoryMeta } from 'rxcomp';\nimport { takeUntil } from 'rxjs/operators';\nimport { RouterKeyValue, RouterOutletStructure } from '../../../../src/rxcomp-router';\n\nexport default class IndexComponent extends Component {\n\thost!: RouterOutletStructure;\n\tonInit() {\n\t\tconst route = this.host.route;\n\t\tif (route) {\n\t\t\troute.data$.pipe(\n\t\t\t\ttakeUntil(this.unsubscribe$)\n\t\t\t).subscribe((data: RouterKeyValue) => {\n\t\t\t\tthis.title = data.title;\n\t\t\t\t// this.pushChanges(); // !!not needed;\n\t\t\t\t// console.log('IndexComponent', data);\n\t\t\t});\n\t\t}\n\t}\n\tstatic meta: IFactoryMeta = {\n\t\tselector: '[index-component]',\n\t\thosts: { host: RouterOutletStructure },\n\t\ttemplate: /* html */`\n        <div class=\"page-index\">\n            <div class=\"title\">{{title}}</div>\n        </div>\n        `,\n\t};\n}\n",
        "import { Component, IFactoryMeta } from 'rxcomp';\nimport { RouterOutletStructure } from '../../../../src/rxcomp-router';\n\nexport default class NotFoundComponent extends Component {\n\thost!: RouterOutletStructure;\n\tonInit() {\n\t\t// console.log('NotFoundComponent.onInit');\n\t}\n\n\tstatic meta: IFactoryMeta = {\n\t\tselector: '[not-found-component]',\n\t\ttemplate: /* html */`\n        <div class=\"page-not-found\">\n            <div class=\"title\">Not Found</div>\n        </div>\n        `,\n\t};\n}\n",
        "import { Component, IFactoryMeta } from 'rxcomp';\nimport { takeUntil } from 'rxjs/operators';\nimport { RouterKeyValue, RouterOutletStructure } from '../../../../src/rxcomp-router';\n\nexport default class SubComponent extends Component {\n\thost!: RouterOutletStructure;\n\tonInit() {\n\t\tconst route = this.host.route;\n\t\tif (route) {\n\t\t\troute.data$.pipe(\n\t\t\t\ttakeUntil(this.unsubscribe$)\n\t\t\t).subscribe((data: RouterKeyValue) => {\n\t\t\t\tthis.title = data.title;\n\t\t\t\t// this.pushChanges(); // !!not needed;\n\t\t\t\t// console.log('SubComponent', data);\n\t\t\t});\n\t\t}\n\t}\n\tstatic meta: IFactoryMeta = {\n\t\tselector: '[sub-component]',\n\t\thosts: { host: RouterOutletStructure },\n\t\ttemplate: /* html */`\n        <div class=\"page-sub\">\n            <div class=\"title\">{{title}}</div>\n        </div>\n        `,\n\t};\n}\n",
        "import { CoreModule, IModuleMeta, Module } from 'rxcomp';\nimport { LocationStrategyHash, RouterModule } from '../../../src/rxcomp-router';\nimport AppComponent from './app.component';\nimport { customActivator } from './custom-activator/custom-activator';\nimport ContactsComponent from './pages/contacts.component';\nimport DataComponent from './pages/data.component';\nimport DetailComponent from './pages/detail.component';\nimport IndexComponent from './pages/index.component';\nimport NotFoundComponent from './pages/not-found.component';\nimport SubComponent from './pages/sub.component';\n\nexport default class AppModule extends Module {\n\tstatic meta: IModuleMeta = {\n\t\timports: [\n\t\t\tCoreModule,\n\t\t\tRouterModule.forRoot([\n\t\t\t\t{ path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n\t\t\t\t{ path: 'dashboard', component: IndexComponent, data: { title: 'Dashboard' } },\n\t\t\t\t{\n\t\t\t\t\tpath: 'dashboard/:detailId', component: DetailComponent, data: { title: 'Detail' },\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{ path: 'media', component: SubComponent, data: { title: 'Media' } },\n\t\t\t\t\t\t{ path: 'files', component: SubComponent, data: { title: 'Files' } }\n\t\t\t\t\t],\n\t\t\t\t\tcanActivateChild: [customActivator],\n\t\t\t\t},\n\t\t\t\t{ path: 'data/:data', component: DataComponent, data: { title: 'Data' } },\n\t\t\t\t{ path: 'contacts', component: ContactsComponent, data: { title: 'Contacts' }, canActivate: [customActivator] },\n\t\t\t\t{ path: '**', component: NotFoundComponent },\n\t\t\t]).useStrategy(LocationStrategyHash),\n\t\t],\n\t\tdeclarations: [\n\t\t\tIndexComponent,\n\t\t\tDataComponent,\n\t\t\tDetailComponent,\n\t\t\tContactsComponent,\n\t\t],\n\t\tbootstrap: AppComponent,\n\t};\n\n}\n",
        "import { Browser } from 'rxcomp';\nimport AppModule from './app.module';\n\nBrowser.bootstrap(AppModule);\n"
    ]
}
